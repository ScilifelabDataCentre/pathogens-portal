<div class="container mt-3">
  <div class="row">
  {{ $ncol := 3 }}
  {{ $third_element := sub $ncol 1 }}
  {{ $mod := mod (len .RegularPages) $ncol }}
  {{ range $index, $content := .RegularPages }}
      <div class="col-md mx-2 mb-2 border bg-light">
          <img style="margin-top:0.5rem" src="{{ .Params.banner }}" alt="{{ .Title }}">
          {{ range (.GetTerms "highlights_topics") }}
              <span class="topic_badge_small
              {{ if eq .LinkTitle "COVID-19"}}topic_badge_covid
              {{ else if eq .LinkTitle "Infectious diseases"}}topic_badge_infectious_d
              {{ else if eq .LinkTitle "Antibiotic resistance"}}topic_badge_antib_r
              {{ else }}topic_badge_general
              {{ end }} "><a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a></span>
          {{ end }}
          <h6><a href="{{ .RelPermalink }}">{{ .Title }}</a></h6>
          <p class="small text-muted">{{.Date.Format "2006-01-02"}}</p>
          <p> {{ .Summary }} <br><a href="{{ .RelPermalink }}">{{ (index $.Site.Params.lang_strings .Site.Language.Lang).readmore_text }} <i class="bi bi-arrow-right-circle-fill"></i></a></p>
      </div>
      {{ if eq $index $third_element }}
      <div class="w-100"></div>
      {{ $third_element = add $third_element $ncol }}
      {{ end }}
  {{ end }}

  <!-- Adding empty boxes for consistent alignment -->
  {{ if ne $mod 0 }}
      {{ range seq (sub $ncol $mod) }}
          <div class="col-md mx-2 mb-2"></div>
      {{ end }}
  {{ end }}

  </div>
</div>
