<!-- Shortcode for GitHub Last Modified Date -->
<span id="last_modified_github"></span>
<script>
  // Function to fetch the latest commit date from the GitHub repository using XMLHttpRequest
  function fetchGitHubCommitDate() {
    var xmlhttp = new XMLHttpRequest();
    var githubApiUrl = "https://api.github.com/repos/MurrellGroup/lineages/commits?path=plots&page=1&per_page=1";
    
    xmlhttp.onreadystatechange = function () {
      if (this.readyState == 4) {
        if (this.status == 200) {
          var commits = JSON.parse(this.responseText);
          if (commits.length > 0) {
            // Extract the date of the latest commit
            var latestCommitDate = new Date(commits[0].commit.committer.date);
            // Format the date as YYYY-MM-DD
            var formattedDate = latestCommitDate.toISOString().split('T')[0];
            // Update the span with the last modified date
            document.getElementById("last_modified_github").innerText = formattedDate;
          } else {
            document.getElementById("last_modified_github").innerText = "Not updated";
          }
        } else {
          console.error("Error fetching GitHub commit date:", this.statusText);
          document.getElementById("last_modified_github").innerText = "Error fetching date.";
        }
      }
    };

    xmlhttp.open("GET", githubApiUrl, true);
    xmlhttp.send();
  }

  // Call the function to fetch the GitHub commit date
  fetchGitHubCommitDate();
</script>
